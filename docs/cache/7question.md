<!-- TOC -->
- [1.缓存击穿](#_1缓存击穿)
- [2.缓存穿透](#_2缓存穿透)
- [3.缓存雪崩](#_3缓存雪崩)
<!-- /TOC -->

## 1.缓存击穿
### 1. 概念
热点key在过期到从数据库中加载数据到缓存的时间里，有大量请求到达mysql，容易造成mysql宕机

### 2. 解决方案
- 使用互斥锁
- 设置key永不过期

## 2.缓存穿透
### 1. 概念
缓存没有命中，于是向mysql中查询数据，在高并发情况下，还是容易造成mysql宕机。

### 2. 解决方案
1. 缓存空值，设置过期时间为10s/30s
2. 使用布隆过滤器，根据key判断是否有缓存，缺点：
    - 有误判的概率
    - 删除数据的时候比较麻烦

### 3. 缓存击穿和穿透的区别
- 缓存击穿：在缓存失效的瞬间，大量请求落到mysql中
- 缓存穿透：mysql中也不存在该数据，所以会一直请求mysql

## 3.缓存雪崩

### 1. 概念
分两种情况
1. redis服务出现错误，不能正常工作
2. 缓存大面积失效

### 2. 解决办法
1. redis集群高可用
2. 过期时间设置随机数，防止同一时间大量缓存过期，至于热点数据，可以设置不过期。